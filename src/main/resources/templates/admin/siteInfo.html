<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/html" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>아티니어::관리자</title>
  <meta name="description" content="관리자 페이지">
  <meta name="keywords" content="웹정보 관리">

  <!-- Favicons -->
  <link href="/image/favicon.ico" type="image/x-icon" rel="icon">
<!--  <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">-->

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Jost:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <!-- Vendor CSS Files -->
  <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link th:href="@{assets/vendor/bootstrap-icons/bootstrap-icons.css}" rel="stylesheet">
  <link th:href="@{assets/vendor/aos/aos.css}" rel="stylesheet">
  <link th:href="@{assets/vendor/glightbox/css/glightbox.min.css}" rel="stylesheet">
  <link th:href="@{/assets/vendor/swiper/swiper-bundle.min.css}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="/css/mastermain.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link th:href="@{/css/admin.css}" rel="stylesheet">

  <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>



  <!-- =======================================================
  * Template Name: Arsha
  * Template URL: https://bootstrapmade.com/arsha-free-bootstrap-html-template-corporate/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="starter-page-page d-flex flex-column min-vh-100">

<header th:replace="~{fragments/headerFragment :: header(user=${user})}"></header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title" style="
    top: 60px;
    margin-bottom: 0;
    padding-bottom: 0"
    >
<!--      <div class="container" style="-->
<!--      display: flex;-->
<!--      justify-content: center; /* 수평 가운데 정렬 */-->
<!--      align-items: center;">-->
<!--        <h1 style="font-size: 60px" >로그인</h1>-->
<!--      </div>-->
    </div>
    <!-- End Page Title -->

    <!-- Starter Section Section -->
    <section id="starter-section" class="starter-section section mt-5">
      <div class="container">
        <div class="offset-md-2" style="margin-top: 75px">
          <a th:href="@{/admin/member}">회원관리</a> /
          <a th:href="@{/admin/calendar}">일정관리</a> /
          <a th:href="@{/admin/popup}">팝업관리</a> /
          <a th:href="@{/admin/site-info}">웹정보</a>
        </div>
        <h1 class="text-center mb-4 fw-bold form" style="margin-top: 5px">웹정보 관리</h1>

        <!-- 검색 필터 -->
        <div class="table-responsive row mb-4">
          <div class="col-md-8 offset-md-2">
            <form name="form" id="form" style="display: flex; flex-direction: column;">
              <div id="contactNumberBox" class="inputBox">
                <input id="contactNumber" type="text" name="contactNumber" th:value="${contactNumber}">
                <label for="contactNumber">연락처</label>
                <div class="error-msg"></div>
              </div>
              <div id="headOfficerNameBox" class="inputBox">
                <input id="headOfficerName" type="text" name="headOfficerName" th:value="${headOfficerName}">
                <label for="headOfficerName">담당자 직책</label>
                <div class="error-msg"></div>
              </div>
              <div id="emailBox" class="inputBox">
                <input id="email" type="text" name="email" th:value="${email}">
                <label for="email">이메일</label>
                <div class="error-msg"></div>
              </div>
              <div class="modal-footer" style="justify-content: center; align-self: center;">
                <button type="button" class="btn btn-primary" id="save-changes" form="form" style="width: 25%">저장</button>
              </div>
            </form>
          </div>
        </div>


        <h2 class="text-center mt-5 fw-bold form" style="margin-top: 5px">미리보기</h2>
        <div style="border: #0f3d81 solid thick">
        <footer th:replace="~{fragments/footerFragment :: footer}" class="footer py-3 mt-auto"></footer>
        </div>
      </div>
    </section>
  </main>

<footer id="footer" th:insert="~{fragments/footerFragment :: footerInfo}" class="footer py-3 mt-auto"></footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
<!--  <div id="preloader"></div>-->

  <!-- Vendor JS Files -->
<script th:src="@{/assets/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/assets/vendor/php-email-form/validate.js}"></script>
<script th:src="@{/assets/vendor/aos/aos.js}"></script>
<script th:src="@{/assets/vendor/glightbox/js/glightbox.min.js}"></script>
<script th:src="@{/assets/vendor/swiper/swiper-bundle.min.js}"></script>
<script th:src="@{/assets/vendor/waypoints/noframework.waypoints.js}"></script>
<script th:src="@{/assets/vendor/imagesloaded/imagesloaded.pkgd.min.js}"></script>
<script th:src="@{/assets/vendor/isotope-layout/isotope.pkgd.min.js}"></script>


  <script th:src="@{/js/admin.js}"></script>

<script>
  // 이게 맞나
  document.querySelector('#form').querySelectorAll('input').forEach(node => {
    node.focus();
    node.blur();
  })


  document.querySelector('#save-changes').onclick = () => {
    const formData = {};

    // 모든 입력 데이터를 수집
    document.querySelector('#form').querySelectorAll('input').forEach(node => {
      formData[node.name] = node.value;
    });

    // 수집한 데이터를 한 번에 서버로 전송
    fetch('/admins/site-info/set', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(formData)
    })
    .then(response => response.ok ? (()=>{alert("수정되었습니다."); location.reload()})() : alert(`일부를 저장에 실패했습니다.`) )
  };
</script>

  <!-- Main JS File -->
  <script th:src="@{assets/js/main.js}"></script>

</body>

</html>