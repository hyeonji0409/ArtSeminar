<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주소 입력 팝업</title>
    <script th:inline="javascript">
        // 초기화 함수
        function init() {
            var url = location.href;
            var confmKey = "devU01TX0FVVEgyMDI0MDgyNTEzMjQ1ODExNTAzNDc=";  // 실제 승인 키로 대체해야 합니다.
            var resultType = "4"; // 도로명주소 검색결과 화면 출력내용

            // 아래 변수들은 JSP에서 서버가 채워주던 값입니다.
            // 실제 HTML로 변환 시 자바스크립트 변수에 값을 수동으로 채워야 합니다.
            var inputYn = [[${inputYn}]] ;  // inputYn 값 설정 필요
            var roadFullAddr = [[${roadFullAddr}]];  // roadFullAddr 값 설정 필요
            var roadAddrPart1 = [[${roadAddrPart1}]];  // roadAddrPart1 값 설정 필요
            var addrDetail = [[${addrDetail}]];  // addrDetail 값 설정 필요
            var roadAddrPart2 = "";  // roadAddrPart2 값 설정 필요
            var engAddr = "";  // engAddr 값 설정 필요
            var jibunAddr = "";  // jibunAddr 값 설정 필요
            var zipNo = "";  // zipNo 값 설정 필요
            var admCd = "";  // admCd 값 설정 필요
            var rnMgtSn = "";  // rnMgtSn 값 설정 필요
            var bdMgtSn = "";  // bdMgtSn 값 설정 필요
            var detBdNmList = "";  // detBdNmList 값 설정 필요
            var bdNm = "";  // bdNm 값 설정 필요
            var bdKdcd = "";  // bdKdcd 값 설정 필요
            var siNm = "";  // siNm 값 설정 필요
            var sggNm = "";  // sggNm 값 설정 필요
            var emdNm = "";  // emdNm 값 설정 필요
            var liNm = "";  // liNm 값 설정 필요
            var rn = "";  // rn 값 설정 필요
            var udrtYn = "";  // udrtYn 값 설정 필요
            var buldMnnm = "";  // buldMnnm 값 설정 필요
            var buldSlno = "";  // buldSlno 값 설정 필요
            var mtYn = "";  // mtYn 값 설정 필요
            var lnbrMnnm = "";  // lnbrMnnm 값 설정 필요
            var lnbrSlno = "";  // lnbrSlno 값 설정 필요
            var emdNo = "";  // emdNo 값 설정 필요

            if (inputYn !== "Y") {
                document.getElementById("confmKey").value = confmKey;
                document.getElementById("returnUrl").value = url;
                document.getElementById("resultType").value = resultType;
                document.getElementById("form").action = "https://business.juso.go.kr/addrlink/addrLinkUrl.do";  // 인터넷망
                document.getElementById("form").submit();
            } else {
                // 부모 페이지의 jusoCallBack 함수 호출
                if (window.opener && window.opener.jusoCallBack) {
                    window.opener.jusoCallBack(roadFullAddr, roadAddrPart1, addrDetail, roadAddrPart2, engAddr, jibunAddr, zipNo, admCd, rnMgtSn, bdMgtSn, detBdNmList, bdNm, bdKdcd, siNm, sggNm, emdNm, liNm, rn, udrtYn, buldMnnm, buldSlno, mtYn, lnbrMnnm, lnbrSlno, emdNo);
                    // window.opener.jusoCallBack(roadFullAddr, roadAddrPart1, addrDetail);
                }
                window.close();
            }
        }
    </script>
</head>
<body onload="init();">
<form id="form" name="form" method="post">
    <input type="hidden" id="confmKey" name="confmKey" value="">
    <input type="hidden" id="returnUrl" name="returnUrl" value="">
    <input type="hidden" id="resultType" name="resultType" value="">
</form>
</body>
</html>
